{% extends "auth_payments/base.html" %}
{% load static %}

{% block title %}Social Login - Syrian Archive{% endblock %}

{% block auth_payments_content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="form-section">
            <h2 class="section-title">
                <i class="fas fa-sign-in-alt"></i>
                Sign in with Social Media
            </h2>
            
            <p class="text-muted mb-4">
                Choose your preferred social media platform to sign in quickly and securely.
            </p>
            
            <div class="social-login-options">
                {% if google_enabled %}
                <a href="{% url 'socialaccount_login' 'google' %}" class="social-login-btn google-btn">
                    <i class="fab fa-google"></i>
                    Continue with Google
                </a>
                {% endif %}
                
                {% if facebook_enabled %}
                <a href="{% url 'socialaccount_login' 'facebook' %}" class="social-login-btn facebook-btn">
                    <i class="fab fa-facebook-f"></i>
                    Continue with Facebook
                </a>
                {% endif %}
                
                {% if github_enabled %}
                <a href="{% url 'socialaccount_login' 'github' %}" class="social-login-btn github-btn">
                    <i class="fab fa-github"></i>
                    Continue with GitHub
                </a>
                {% endif %}
                
                {% if not google_enabled and not facebook_enabled and not github_enabled %}
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    No social login providers are currently configured.
                </div>
                {% endif %}
            </div>
            
            <hr class="my-4">
            
            <div class="text-center">
                <p class="text-muted">
                    Already have an account? 
                    <a href="{% url 'archive_app:login' %}" class="text-decoration-none">
                        Sign in with email
                    </a>
                </p>
                <p class="text-muted">
                    Don't have an account? 
                    <a href="{% url 'archive_app:register' %}" class="text-decoration-none">
                        Create one here
                    </a>
                </p>
            </div>
        </div>
        
        <div class="form-section">
            <h5 class="mb-3">
                <i class="fas fa-shield-alt"></i>
                Why use social login?
            </h5>
            <ul class="list-unstyled">
                <li class="mb-2">
                    <i class="fas fa-check text-success me-2"></i>
                    Quick and secure authentication
                </li>
                <li class="mb-2">
                    <i class="fas fa-check text-success me-2"></i>
                    No need to remember another password
                </li>
                <li class="mb-2">
                    <i class="fas fa-check text-success me-2"></i>
                    Your data stays private and secure
                </li>
                <li class="mb-2">
                    <i class="fas fa-check text-success me-2"></i>
                    Easy account recovery
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script>
    // Add click tracking for social login buttons
    document.querySelectorAll('.social-login-btn').forEach(button => {
        button.addEventListener('click', function(e) {
            const provider = this.href.split('/').pop();
            console.log(`Initiating ${provider} login`);
            
            // Show loading state
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connecting...';
            this.style.pointerEvents = 'none';
            
            // Reset after 10 seconds if something goes wrong
            setTimeout(() => {
                this.innerHTML = originalText;
                this.style.pointerEvents = 'auto';
            }, 10000);
        });
    });
</script>
{% endblock %}